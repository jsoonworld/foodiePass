# FoodiePass Frontend - User Flow

> **목적**: 사용자 플로우 및 화면 전환 설계

---

## 전체 플로우

```
[시작]
  ↓
[홈: 메뉴판 업로드] (/)
  ↓
[언어/화폐 선택]
  ↓
[로딩 중...] (5초 이내)
  ↓
[메뉴 표시] (/menu/[scanId])
  ├─ Control 그룹 → [텍스트 전용 UI]
  └─ Treatment 그룹 → [시각적 메뉴 UI]
  ↓
[설문 표시] (5초 후 자동)
  ↓
[설문 제출]
  ↓
[완료 메시지]
```

---

## 화면별 상세

### 1. 홈 (/)

**목적**: 메뉴판 이미지 업로드 + 언어/화폐 선택

**UI 요소**:
- 이미지 업로드 영역 (드래그앤드롭 또는 파일 선택)
- 언어 선택 드롭다운 (한국어, 영어, 일본어 등)
- 화폐 선택 드롭다운 (KRW, USD, JPY 등)
- "Scan Menu" 버튼

**액션**:
- 이미지 업로드 → Base64 인코딩
- "Scan Menu" 클릭 → POST /api/menus/scan
- 성공 → `/menu/[scanId]`로 이동

---

### 2. 메뉴 표시 (/menu/[scanId])

**목적**: A/B 그룹에 따라 다른 UI 렌더링

#### Control 그룹 (텍스트 전용)
- 메뉴명 (원어 + 번역)
- 가격 (원래 화폐 + 변환된 화폐)
- **사진/설명 없음**

#### Treatment 그룹 (시각적 메뉴)
- 음식 사진
- 메뉴명 (원어 + 번역)
- 간략 설명 (2-3줄)
- 가격 (원래 화폐 + 변환된 화폐)

**공통 액션**:
- 5초 후 자동으로 설문 모달 표시

---

### 3. 설문 모달

**목적**: 확신도 측정

**질문**:
> "이 정보만으로 확신을 갖고 주문할 수 있습니까?"

**선택지**:
- [ ] Yes (확신 있음)
- [ ] No (여전히 불안함)

**액션**:
- Yes/No 클릭 → POST /api/surveys
- 성공 → "감사합니다!" 메시지 표시 후 모달 닫기

---

## 에러 처리

| 에러 시나리오 | 사용자 경험 |
|---|---|
| 이미지 크기 초과 (>10MB) | "이미지가 너무 큽니다. 10MB 이하로 업로드해주세요." |
| OCR 실패 | "메뉴판을 인식할 수 없습니다. 다시 시도해주세요." |
| 네트워크 오류 | "연결 오류가 발생했습니다. 다시 시도해주세요." |
| 처리 시간 초과 (>10초) | "처리 시간이 너무 오래 걸립니다. 다시 시도해주세요." |

---

## 로딩 상태

| 단계 | 로딩 메시지 | 예상 시간 |
|---|---|---|
| OCR 실행 | "메뉴판을 분석하는 중..." | 2-3초 |
| 번역 실행 | "메뉴를 번역하는 중..." | 1-2초 |
| 음식 매칭 (Treatment만) | "음식 정보를 가져오는 중..." | 1-2초 |
| 환율 변환 | "가격을 변환하는 중..." | <1초 |

**전체 목표**: ≤ 5초

---

## 모바일 최적화

### 터치 인터랙션
- 업로드 영역: 큰 터치 영역 (최소 48x48px)
- 드롭다운: 네이티브 선택기 사용
- 버튼: 충분한 간격 (최소 8px)

### 반응형 레이아웃
- 모바일: 1열 그리드
- 태블릿: 2열 그리드
- 데스크톱: 2-3열 그리드

---

## 참고 문서

- [COMPONENT_DESIGN.md](./COMPONENT_DESIGN.md) - 컴포넌트 구조
- [UI_REQUIREMENTS.md](./UI_REQUIREMENTS.md) - UI/UX 요구사항
